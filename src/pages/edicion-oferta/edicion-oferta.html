<!--
  Generated template for the EdicionOfertaPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-navbar>
    <ion-title>{{cliente.nomclien}}</ion-title>
    <ion-buttons end>
        <button ion-button icon-only (click)="goHome()">
          <ion-icon name="home"></ion-icon>
        </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
<ion-list class="borde">
  
  <ion-item no-lines class="grptitle" text-wrap>
    CABECERA
    <button color="light" ion-button outline item-end round icon-left (click)="openModalCabecera()">
        <ion-icon name="create"></ion-icon>
        Editar
    </button>
  </ion-item>
  <ion-item >
    <div>
      <strong>Oferta NÂº </strong>{{oferta.numofert}}
    </div>
    <div>
        <strong>Agente: </strong>{{cliente.nomagent}}
    </div>
    <div>
      <strong>Fecha: </strong>{{oferta.fecofert}}
      <strong>Total: </strong>{{oferta.totalofe}}
    </div>
    <div>
        <strong>Observaciones: </strong>{{oferta.observa01}}
    </div>
  </ion-item>
  
</ion-list>
<ion-list class="borde">
    <ion-item no-lines class="grptitle" text-wrap>
        LINEAS
        <button color="light" ion-button outline item-end round icon-left (click)="crearLinea()">
            <ion-icon name="add"></ion-icon>
            Nueva linea
        </button>
    </ion-item>
  <ion-item-sliding *ngFor="let linea of oferta.lineas" text-wrap>
    <ion-item>
        <div>
            <strong>Linea: </strong>{{linea.numlinea}}
            <strong>Articulo: </strong>{{linea.nomartic}}
          </div>
          <div>
            <strong>Cantidad: </strong>{{linea.cantidad}}
            <strong>Precio: </strong>{{linea.precioar}}
          </div>
          <div>
            <strong>Dto1: </strong>{{linea.dtoline1}}
            <strong>Dto2: </strong>{{linea.dtoline2}}
            <strong>Importe: </strong>{{linea.importel}}
          </div>
    </ion-item>
    <ion-item-options>
        <button color="light" class="grptitle" ion-button outline item-end round icon-left (click)="editarLinea(linea)">
            <ion-icon name="create"></ion-icon> 
            Editar
          </button>
          <button color="danger" ion-button outline item-end round icon-left  (click)="confirmarBorrado(linea)">
            <ion-icon name="trash"></ion-icon> 
            Borrar
        </button>
  </ion-item-options>
  </ion-item-sliding>
</ion-list>  
</ion-content>

<ion-footer>
<ion-toolbar>
  <ion-title>
    <span style="font-size:0.8em;">(c) Ariadna Software SL 2018</span>
  </ion-title>
</ion-toolbar>
</ion-footer>
